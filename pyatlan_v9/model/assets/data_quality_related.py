# Auto-generated by PythonMsgspecRenderer.pkl - DO NOT EDIT
# SPDX-License-Identifier: Apache-2.0
# Copyright 2024 Atlan Pte. Ltd.

"""
Related type classes for DataQuality module.

This module contains all Related{Type} classes for the DataQuality type hierarchy.
These classes are used for relationship attributes to reference related entities.
"""

from __future__ import annotations

from typing import Any, Union

from msgspec import UNSET, UnsetType

from .catalog_related import RelatedCatalog
from .referenceable_related import RelatedReferenceable

__all__ = [
    "RelatedDataQuality",
    "RelatedDataQualityRule",
    "RelatedDataQualityRuleTemplate",
    "RelatedMetric",
]


class RelatedDataQuality(RelatedCatalog):
    """
    Related entity reference for DataQuality assets.

    Extends RelatedCatalog with DataQuality-specific attributes.
    """

    # type_name inherited from parent with default=UNSET
    # __post_init__ sets it to "DataQuality" so it serializes correctly

    dq_is_part_of_contract: Union[bool, None, UnsetType] = UNSET
    """Whether this data quality is part of contract (true) or not (false)."""

    def __post_init__(self) -> None:
        RelatedReferenceable.__post_init__(self)
        self.type_name = "DataQuality"


class RelatedDataQualityRule(RelatedDataQuality):
    """
    Related entity reference for DataQualityRule assets.

    Extends RelatedDataQuality with DataQualityRule-specific attributes.
    """

    # type_name inherited from parent with default=UNSET
    # __post_init__ sets it to "DataQualityRule" so it serializes correctly

    dq_rule_base_dataset_qualified_name: Union[str, None, UnsetType] = UNSET
    """Base dataset qualified name that attached to this rule."""

    dq_rule_base_column_qualified_name: Union[str, None, UnsetType] = UNSET
    """Base column qualified name that attached to this rule."""

    dq_rule_reference_dataset_qualified_names: Union[list[str], None, UnsetType] = UNSET
    """List of unique reference dataset's qualified names related to this rule."""

    dq_rule_reference_column_qualified_names: Union[list[str], None, UnsetType] = UNSET
    """List of unique reference column's qualified names related to this rule."""

    dq_rule_source_sync_status: Union[str, None, UnsetType] = UNSET
    """Latest sync status of the rule to the source."""

    dq_rule_source_sync_error_code: Union[str, None, UnsetType] = UNSET
    """Error code in the case of state being "failure"."""

    dq_rule_source_sync_error_message: Union[str, None, UnsetType] = UNSET
    """Error message in the case of state being "error"."""

    dq_rule_source_sync_raw_error: Union[str, None, UnsetType] = UNSET
    """Raw error message from the source."""

    dq_rule_source_synced_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the rule synced to the source."""

    dq_rule_latest_result: Union[str, None, UnsetType] = UNSET
    """Latest result of the rule."""

    dq_rule_latest_result_computed_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the latest rule result was evaluated."""

    dq_rule_latest_result_fetched_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the latest rule result was fetched."""

    dq_rule_latest_metric_value: Union[str, None, UnsetType] = UNSET
    """Last result metrics value of the rule."""

    dq_rule_latest_metric_value_computed_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the latest metric value was evaluated in the source."""

    dq_rule_dimension: Union[str, None, UnsetType] = UNSET
    """Dimension of the data quality rule."""

    dq_rule_template_name: Union[str, None, UnsetType] = UNSET
    """Name of the rule template corresponding to the rule."""

    dq_rule_status: Union[str, None, UnsetType] = UNSET
    """Status of the rule."""

    dq_rule_alert_priority: Union[str, None, UnsetType] = UNSET
    """Default priority level for alerts involving this rule."""

    dq_rule_config_arguments: Union[dict[str, Any], None, UnsetType] = UNSET
    """Json string of the rule config that contains the rule definitions."""

    dq_rule_custom_sql: Union[str, None, UnsetType] = UNSET
    """SQL code for custom SQL rules."""

    dq_rule_custom_sql_return_type: Union[str, None, UnsetType] = UNSET
    """Type of result returned by the custom SQL (number of rows or numeric value)."""

    dq_rule_failed_rows_sql: Union[str, None, UnsetType] = UNSET
    """SQL query used to retrieve failed rows."""

    dq_rule_row_scope_filtering_enabled: Union[bool, None, UnsetType] = UNSET
    """Whether row scope filtering is enabled for this data quality rule (true) or not (false)."""

    def __post_init__(self) -> None:
        RelatedReferenceable.__post_init__(self)
        self.type_name = "DataQualityRule"


class RelatedDataQualityRuleTemplate(RelatedDataQuality):
    """
    Related entity reference for DataQualityRuleTemplate assets.

    Extends RelatedDataQuality with DataQualityRuleTemplate-specific attributes.
    """

    # type_name inherited from parent with default=UNSET
    # __post_init__ sets it to "DataQualityRuleTemplate" so it serializes correctly

    dq_rule_template_dimension: Union[str, None, UnsetType] = UNSET
    """Name of the dimension the rule belongs to."""

    dq_rule_template_config: Union[dict[str, Any], None, UnsetType] = UNSET
    """Rule config that will help render the form and define the rule."""

    dq_rule_template_metric_value_type: Union[str, None, UnsetType] = UNSET
    """Type of the metric value returned by the rule(absolute, percentage, time etc.)."""

    def __post_init__(self) -> None:
        RelatedReferenceable.__post_init__(self)
        self.type_name = "DataQualityRuleTemplate"


class RelatedMetric(RelatedDataQuality):
    """
    Related entity reference for Metric assets.

    Extends RelatedDataQuality with Metric-specific attributes.
    """

    # type_name inherited from parent with default=UNSET
    # __post_init__ sets it to "Metric" so it serializes correctly

    metric_type: Union[str, None, UnsetType] = UNSET
    """Type of the metric."""

    metric_sql: Union[str, None, UnsetType] = UNSET
    """SQL query used to compute the metric."""

    metric_filters: Union[str, None, UnsetType] = UNSET
    """Filters to be applied to the metric query."""

    metric_time_grains: Union[list[str], None, UnsetType] = UNSET
    """List of time grains to be applied to the metric query."""

    def __post_init__(self) -> None:
        RelatedReferenceable.__post_init__(self)
        self.type_name = "Metric"
