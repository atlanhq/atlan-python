# Auto-generated by PythonMsgspecRenderer.pkl - DO NOT EDIT
# SPDX-License-Identifier: Apache-2.0
# Copyright 2024 Atlan Pte. Ltd.

"""
Asset asset model with flattened inheritance.

This module provides:
- Asset: Flat asset class (easy to use)
- AssetAttributes: Nested attributes struct (extends AssetAttributes)
- AssetNested: Nested API format struct
"""

from __future__ import annotations

from typing import Any, ClassVar, Union

import msgspec
from msgspec import UNSET, UnsetType

from pyatlan_v9.model.assets.related_entity import SaveSemantic
from pyatlan_v9.model.conversion_utils import (
    categorize_relationships,
    merge_relationships,
)
from pyatlan_v9.model.serde import Serde, get_serde

from .referenceable import (
    Referenceable,
    ReferenceableAttributes,
    ReferenceableNested,
    ReferenceableRelationshipAttributes,
)

# =============================================================================
# FLAT ASSET CLASS
# =============================================================================


class Asset(Referenceable):
    """
    Base class for all assets.
    """

    # =========================================================================
    # Field Descriptors (class-level, for search query building)
    # =========================================================================

    NAME: ClassVar = None  # Initialized after imports below
    DISPLAY_NAME: ClassVar = None  # Initialized after imports below
    CONNECTOR_NAME: ClassVar = None  # Initialized after imports below
    CONNECTION_NAME: ClassVar = None  # Initialized after imports below

    # =========================================================================
    # Instance Fields
    # =========================================================================

    # Override type_name with Asset-specific default
    type_name: Union[str, UnsetType] = "Asset"

    name: Union[str, None, UnsetType] = UNSET
    """Name of this asset. Fallback for display purposes, if displayName is empty."""

    display_name: Union[str, None, UnsetType] = UNSET
    """Human-readable name of this asset used for display purposes (in user interface)."""

    description: Union[str, None, UnsetType] = UNSET
    """Description of this asset, for example as crawled from a source. Fallback for display purposes, if userDescription is empty."""

    asset_source_readme: Union[str, None, UnsetType] = UNSET
    """Readme of this asset, as extracted from source. If present, this will be used for the readme in user interface."""

    user_description: Union[str, None, UnsetType] = UNSET
    """Description of this asset, as provided by a user. If present, this will be used for the description in user interface."""

    tenant_id: Union[str, None, UnsetType] = UNSET
    """Name of the Atlan workspace in which this asset exists."""

    certificate_status: Union[str, None, UnsetType] = UNSET
    """Status of this asset's certification."""

    certificate_status_message: Union[str, None, UnsetType] = UNSET
    """Human-readable descriptive message used to provide further detail to certificateStatus."""

    certificate_updated_by: Union[str, None, UnsetType] = UNSET
    """Name of the user who last updated the certification of this asset."""

    certificate_updated_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the certification was last updated, in milliseconds."""

    announcement_title: Union[str, None, UnsetType] = UNSET
    """Brief title for the announcement on this asset. Required when announcementType is specified."""

    announcement_message: Union[str, None, UnsetType] = UNSET
    """Detailed message to include in the announcement on this asset."""

    announcement_type: Union[str, None, UnsetType] = UNSET
    """Type of announcement on this asset."""

    announcement_updated_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the announcement was last updated, in milliseconds."""

    announcement_updated_by: Union[str, None, UnsetType] = UNSET
    """Name of the user who last updated the announcement."""

    owner_users: Union[list[str], None, UnsetType] = UNSET
    """List of users who own this asset."""

    owner_groups: Union[list[str], None, UnsetType] = UNSET
    """List of groups who own this asset."""

    admin_users: Union[set[str], None, UnsetType] = UNSET
    """List of users who administer this asset. (This is only used for certain asset types.)"""

    admin_groups: Union[set[str], None, UnsetType] = UNSET
    """List of groups who administer this asset. (This is only used for certain asset types.)"""

    viewer_users: Union[list[str], None, UnsetType] = UNSET
    """List of users who can view assets contained in a collection. (This is only used for certain asset types.)"""

    viewer_groups: Union[list[str], None, UnsetType] = UNSET
    """List of groups who can view assets contained in a collection. (This is only used for certain asset types.)"""

    connector_name: Union[str, None, UnsetType] = UNSET
    """Type of the connector through which this asset is accessible."""

    connection_name: Union[str, None, UnsetType] = UNSET
    """Simple name of the connection through which this asset is accessible."""

    connection_qualified_name: Union[str, None, UnsetType] = UNSET
    """Unique name of the connection through which this asset is accessible."""

    has_lineage: Union[bool, None, UnsetType] = msgspec.field(
        default=UNSET, name="__hasLineage"
    )
    """Whether this asset has lineage (true) or not (false)."""

    is_discoverable: Union[bool, None, UnsetType] = UNSET
    """Whether this asset is discoverable through the UI (true) or not (false)."""

    is_editable: Union[bool, None, UnsetType] = UNSET
    """Whether this asset can be edited in the UI (true) or not (false)."""

    sub_type: Union[str, None, UnsetType] = UNSET
    """Subtype of this asset."""

    view_score: Union[float, None, UnsetType] = UNSET
    """View score for this asset."""

    popularity_score: Union[float, None, UnsetType] = UNSET
    """Popularity score for this asset."""

    source_owners: Union[str, None, UnsetType] = UNSET
    """List of owners of this asset, in the source system."""

    asset_source_id: Union[str, None, UnsetType] = UNSET
    """Unique identifier for this asset in the system from which it was sourced."""

    source_created_by: Union[str, None, UnsetType] = UNSET
    """Name of the user who created this asset, in the source system."""

    source_created_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which this asset was created in the source system, in milliseconds."""

    source_updated_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which this asset was last updated in the source system, in milliseconds."""

    source_updated_by: Union[str, None, UnsetType] = UNSET
    """Name of the user who last updated this asset, in the source system."""

    source_url: Union[str, None, UnsetType] = UNSET
    """URL to the resource within the source application, used to create a button to view this asset in the source application."""

    source_embed_url: Union[str, None, UnsetType] = UNSET
    """URL to create an embed for a resource (for example, an image of a dashboard) within Atlan."""

    last_sync_workflow_name: Union[str, None, UnsetType] = UNSET
    """Name of the crawler that last synchronized this asset."""

    last_sync_run_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which this asset was last crawled, in milliseconds."""

    last_sync_run: Union[str, None, UnsetType] = UNSET
    """Name of the last run of the crawler that last synchronized this asset."""

    admin_roles: Union[set[str], None, UnsetType] = UNSET
    """List of roles who administer this asset. (This is only used for Connection assets.)"""

    source_read_count: Union[int, None, UnsetType] = UNSET
    """Total count of all read operations at source."""

    source_read_user_count: Union[int, None, UnsetType] = UNSET
    """Total number of unique users that read data from asset."""

    source_last_read_at: Union[int, None, UnsetType] = UNSET
    """Timestamp of most recent read operation."""

    last_row_changed_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) of the last operation that inserted, updated, or deleted rows, in milliseconds."""

    source_total_cost: Union[float, None, UnsetType] = UNSET
    """Total cost of all operations at source."""

    source_cost_unit: Union[str, None, UnsetType] = UNSET
    """The unit of measure for sourceTotalCost."""

    source_read_query_cost: Union[float, None, UnsetType] = UNSET
    """Total cost of read queries at source."""

    source_read_recent_user_list: Union[list[str], None, UnsetType] = UNSET
    """List of usernames of the most recent users who read this asset."""

    source_read_recent_user_record_list: Union[
        list[dict[str, Any]], None, UnsetType
    ] = UNSET
    """List of usernames with extra insights for the most recent users who read this asset."""

    source_read_top_user_list: Union[list[str], None, UnsetType] = UNSET
    """List of usernames of the users who read this asset the most."""

    source_read_top_user_record_list: Union[list[dict[str, Any]], None, UnsetType] = (
        UNSET
    )
    """List of usernames with extra insights for the users who read this asset the most."""

    source_read_popular_query_record_list: Union[
        list[dict[str, Any]], None, UnsetType
    ] = UNSET
    """List of the most popular queries that accessed this asset."""

    source_read_expensive_query_record_list: Union[
        list[dict[str, Any]], None, UnsetType
    ] = UNSET
    """List of the most expensive queries that accessed this asset."""

    source_read_slow_query_record_list: Union[list[dict[str, Any]], None, UnsetType] = (
        UNSET
    )
    """List of the slowest queries that accessed this asset."""

    source_query_compute_cost_list: Union[list[str], None, UnsetType] = UNSET
    """List of most expensive warehouse names."""

    source_query_compute_cost_record_list: Union[
        list[dict[str, Any]], None, UnsetType
    ] = UNSET
    """List of most expensive warehouses with extra insights."""

    dbt_qualified_name: Union[str, None, UnsetType] = UNSET
    """Unique name of this asset in dbt."""

    asset_dbt_workflow_last_updated: Union[str, None, UnsetType] = UNSET
    """Name of the DBT workflow in Atlan that last updated the asset."""

    asset_dbt_alias: Union[str, None, UnsetType] = UNSET
    """Alias of this asset in dbt."""

    asset_dbt_meta: Union[str, None, UnsetType] = UNSET
    """Metadata for this asset in dbt, specifically everything under the 'meta' key in the dbt object."""

    asset_dbt_unique_id: Union[str, None, UnsetType] = UNSET
    """Unique identifier of this asset in dbt."""

    asset_dbt_account_name: Union[str, None, UnsetType] = UNSET
    """Name of the account in which this asset exists in dbt."""

    asset_dbt_project_name: Union[str, None, UnsetType] = UNSET
    """Name of the project in which this asset exists in dbt."""

    asset_dbt_package_name: Union[str, None, UnsetType] = UNSET
    """Name of the package in which this asset exists in dbt."""

    asset_dbt_job_name: Union[str, None, UnsetType] = UNSET
    """Name of the job that materialized this asset in dbt."""

    asset_dbt_job_schedule: Union[str, None, UnsetType] = UNSET
    """Schedule of the job that materialized this asset in dbt."""

    asset_dbt_job_status: Union[str, None, UnsetType] = UNSET
    """Status of the job that materialized this asset in dbt."""

    asset_dbt_test_status: Union[str, None, UnsetType] = UNSET
    """All associated dbt test statuses."""

    asset_dbt_job_schedule_cron_humanized: Union[str, None, UnsetType] = UNSET
    """Human-readable cron schedule of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the job that materialized this asset in dbt last ran, in milliseconds."""

    asset_dbt_job_last_run_url: Union[str, None, UnsetType] = UNSET
    """URL of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_created_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the job that materialized this asset in dbt was last created, in milliseconds."""

    asset_dbt_job_last_run_updated_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the job that materialized this asset in dbt was last updated, in milliseconds."""

    asset_dbt_job_last_run_dequed_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the job that materialized this asset in dbt was dequeued, in milliseconds."""

    asset_dbt_job_last_run_started_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the job that materialized this asset in dbt was started running, in milliseconds."""

    asset_dbt_job_last_run_total_duration: Union[str, None, UnsetType] = UNSET
    """Total duration of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_total_duration_humanized: Union[str, None, UnsetType] = UNSET
    """Human-readable total duration of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_queued_duration: Union[str, None, UnsetType] = UNSET
    """Total duration the job that materialized this asset in dbt spent being queued."""

    asset_dbt_job_last_run_queued_duration_humanized: Union[str, None, UnsetType] = (
        UNSET
    )
    """Human-readable total duration of the last run of the job that materialized this asset in dbt spend being queued."""

    asset_dbt_job_last_run_run_duration: Union[str, None, UnsetType] = UNSET
    """Run duration of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_run_duration_humanized: Union[str, None, UnsetType] = UNSET
    """Human-readable run duration of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_git_branch: Union[str, None, UnsetType] = UNSET
    """Branch in git from which the last run of the job that materialized this asset in dbt ran."""

    asset_dbt_job_last_run_git_sha: Union[str, None, UnsetType] = UNSET
    """SHA hash in git for the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_status_message: Union[str, None, UnsetType] = UNSET
    """Status message of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_owner_thread_id: Union[str, None, UnsetType] = UNSET
    """Thread ID of the owner of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_executed_by_thread_id: Union[str, None, UnsetType] = UNSET
    """Thread ID of the user who executed the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_artifacts_saved: Union[bool, None, UnsetType] = UNSET
    """Whether artifacts were saved from the last run of the job that materialized this asset in dbt (true) or not (false)."""

    asset_dbt_job_last_run_artifact_s3_path: Union[str, None, UnsetType] = UNSET
    """Path in S3 to the artifacts saved from the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_has_docs_generated: Union[bool, None, UnsetType] = UNSET
    """Whether docs were generated from the last run of the job that materialized this asset in dbt (true) or not (false)."""

    asset_dbt_job_last_run_has_sources_generated: Union[bool, None, UnsetType] = UNSET
    """Whether sources were generated from the last run of the job that materialized this asset in dbt (true) or not (false)."""

    asset_dbt_job_last_run_notifications_sent: Union[bool, None, UnsetType] = UNSET
    """Whether notifications were sent from the last run of the job that materialized this asset in dbt (true) or not (false)."""

    asset_dbt_job_next_run: Union[int, None, UnsetType] = UNSET
    """Time (epoch) when the next run of the job that materializes this asset in dbt is scheduled."""

    asset_dbt_job_next_run_humanized: Union[str, None, UnsetType] = UNSET
    """Human-readable time when the next run of the job that materializes this asset in dbt is scheduled."""

    asset_dbt_environment_name: Union[str, None, UnsetType] = UNSET
    """Name of the environment in which this asset is materialized in dbt."""

    asset_dbt_environment_dbt_version: Union[str, None, UnsetType] = UNSET
    """Version of the environment in which this asset is materialized in dbt."""

    asset_dbt_tags: Union[list[str], None, UnsetType] = UNSET
    """List of tags attached to this asset in dbt."""

    asset_dbt_semantic_layer_proxy_url: Union[str, None, UnsetType] = UNSET
    """URL of the semantic layer proxy for this asset in dbt."""

    asset_dbt_source_freshness_criteria: Union[str, None, UnsetType] = UNSET
    """Freshness criteria for the source of this asset in dbt."""

    sample_data_url: Union[str, None, UnsetType] = UNSET
    """URL for sample data for this asset."""

    asset_tags: Union[list[str], None, UnsetType] = UNSET
    """List of tags attached to this asset."""

    asset_mc_incident_names: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo incident names attached to this asset."""

    asset_mc_incident_qualified_names: Union[list[str], None, UnsetType] = UNSET
    """List of unique Monte Carlo incident names attached to this asset."""

    asset_mc_alert_qualified_names: Union[list[str], None, UnsetType] = UNSET
    """List of unique Monte Carlo alert names attached to this asset."""

    asset_mc_monitor_names: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo monitor names attached to this asset."""

    asset_mc_monitor_qualified_names: Union[list[str], None, UnsetType] = UNSET
    """List of unique Monte Carlo monitor names attached to this asset."""

    asset_mc_monitor_statuses: Union[list[str], None, UnsetType] = UNSET
    """Statuses of all associated Monte Carlo monitors."""

    asset_mc_monitor_types: Union[list[str], None, UnsetType] = UNSET
    """Types of all associated Monte Carlo monitors."""

    asset_mc_monitor_schedule_types: Union[list[str], None, UnsetType] = UNSET
    """Schedules of all associated Monte Carlo monitors."""

    asset_mc_incident_types: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo incident types associated with this asset."""

    asset_mc_incident_sub_types: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo incident sub-types associated with this asset."""

    asset_mc_incident_severities: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo incident severities associated with this asset."""

    asset_mc_incident_priorities: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo incident priorities associated with this asset."""

    asset_mc_incident_states: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo incident states associated with this asset."""

    asset_mc_is_monitored: Union[bool, None, UnsetType] = UNSET
    """Tracks whether this asset is monitored by MC or not"""

    asset_mc_last_sync_run_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which this asset was last synced from Monte Carlo."""

    starred_by: Union[list[str], None, UnsetType] = UNSET
    """Users who have starred this asset."""

    starred_details_list: Union[list[dict[str, Any]], None, UnsetType] = UNSET
    """List of usernames with extra information of the users who have starred an asset."""

    starred_count: Union[int, None, UnsetType] = UNSET
    """Number of users who have starred this asset."""

    asset_anomalo_dq_status: Union[str, None, UnsetType] = UNSET
    """Status of data quality from Anomalo."""

    asset_anomalo_check_count: Union[int, None, UnsetType] = UNSET
    """Total number of checks present in Anomalo for this asset."""

    asset_anomalo_failed_check_count: Union[int, None, UnsetType] = UNSET
    """Total number of checks failed in Anomalo for this asset."""

    asset_anomalo_check_statuses: Union[str, None, UnsetType] = UNSET
    """Stringified JSON object containing status of all Anomalo checks associated to this asset."""

    asset_anomalo_last_check_run_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the last check was run via Anomalo."""

    asset_anomalo_applied_check_types: Union[list[str], None, UnsetType] = UNSET
    """All associated Anomalo check types."""

    asset_anomalo_failed_check_types: Union[list[str], None, UnsetType] = UNSET
    """All associated Anomalo failed check types."""

    asset_anomalo_source_url: Union[str, None, UnsetType] = UNSET
    """URL of the source in Anomalo."""

    asset_soda_dq_status: Union[str, None, UnsetType] = UNSET
    """Status of data quality from Soda."""

    asset_soda_check_count: Union[int, None, UnsetType] = UNSET
    """Number of checks done via Soda."""

    asset_soda_last_sync_run_at: Union[int, None, UnsetType] = UNSET
    """"""

    asset_soda_last_scan_at: Union[int, None, UnsetType] = UNSET
    """"""

    asset_soda_check_statuses: Union[str, None, UnsetType] = UNSET
    """All associated Soda check statuses."""

    asset_soda_source_url: Union[str, None, UnsetType] = UNSET
    """"""

    asset_icon: Union[str, None, UnsetType] = UNSET
    """Name of the icon to use for this asset. (Only applies to glossaries, currently.)"""

    asset_external_dq_metadata_details: Union[
        dict[str, dict[str, Any]], None, UnsetType
    ] = UNSET
    """DQ metadata captured for asset from external DQ tool(s)."""

    is_partial: Union[bool, None, UnsetType] = UNSET
    """Indicates this asset is not fully-known, if true."""

    is_ai_generated: Union[bool, None, UnsetType] = UNSET
    """"""

    asset_cover_image: Union[str, None, UnsetType] = UNSET
    """Cover image to use for this asset in the UI (applicable to only a few asset types)."""

    asset_theme_hex: Union[str, None, UnsetType] = UNSET
    """Color (in hexadecimal RGB) to use to represent this asset."""

    lexicographical_sort_order: Union[str, None, UnsetType] = UNSET
    """Custom order for sorting purpose, managed by client"""

    has_contract: Union[bool, None, UnsetType] = UNSET
    """Whether this asset has contract (true) or not (false)."""

    asset_redirect_gui_ds: Union[list[str], None, UnsetType] = UNSET
    """Array of asset ids that equivalent to this asset."""

    asset_policy_gui_ds: Union[list[str], None, UnsetType] = UNSET
    """Array of policy ids governing this asset"""

    asset_policies_count: Union[int, None, UnsetType] = UNSET
    """Count of policies inside the asset"""

    domain_gui_ds: Union[list[str], None, UnsetType] = UNSET
    """Array of domain guids linked to this asset"""

    non_compliant_asset_policy_gui_ds: Union[list[str], None, UnsetType] = UNSET
    """Array of policy ids non-compliant to this asset"""

    product_gui_ds: Union[list[str], None, UnsetType] = UNSET
    """Array of product guids linked to this asset"""

    output_product_gui_ds: Union[list[str], None, UnsetType] = UNSET
    """Array of product guids which have this asset as outputPort"""

    application_qualified_name: Union[str, None, UnsetType] = UNSET
    """Qualified name of the Application that contains this asset."""

    application_field_qualified_name: Union[str, None, UnsetType] = UNSET
    """Qualified name of the ApplicationField that contains this asset."""

    asset_user_defined_type: Union[str, None, UnsetType] = UNSET
    """Name to use for this type of asset, as a subtype of the actual typeName."""

    asset_internal_popularity_score: Union[float, None, UnsetType] = UNSET
    """Internal Popularity score for this asset."""

    asset_dq_schedule_type: Union[str, None, UnsetType] = UNSET
    """Type of schedule of the DQ rule that will run at datasource."""

    asset_dq_schedule_crontab: Union[str, None, UnsetType] = UNSET
    """Crontab of the DQ rule that will run at datasource."""

    asset_dq_schedule_time_zone: Union[str, None, UnsetType] = UNSET
    """Timezone of the DQ rule schedule that will run at datasource"""

    asset_dq_schedule_source_sync_status: Union[str, None, UnsetType] = UNSET
    """Latest sync status of the schedule to the source."""

    asset_dq_schedule_source_synced_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the schedule synced to the source."""

    asset_dq_schedule_source_sync_error_message: Union[str, None, UnsetType] = UNSET
    """Error message in the case of sync state being "error"."""

    asset_dq_schedule_source_sync_error_code: Union[str, None, UnsetType] = UNSET
    """Error code in the case of sync state being "error"."""

    asset_dq_schedule_source_sync_raw_error: Union[str, None, UnsetType] = UNSET
    """Raw error message from the source."""

    asset_dq_rule_attached_dimensions: Union[list[str], None, UnsetType] = UNSET
    """List of all the dimensions of attached rules."""

    asset_dq_rule_failed_dimensions: Union[list[str], None, UnsetType] = UNSET
    """List of all the dimensions of failed rules."""

    asset_dq_rule_passed_dimensions: Union[list[str], None, UnsetType] = UNSET
    """List of all the dimensions for which all the rules passed."""

    asset_dq_rule_attached_rule_types: Union[list[str], None, UnsetType] = UNSET
    """List of all the types of attached rules."""

    asset_dq_rule_failed_rule_types: Union[list[str], None, UnsetType] = UNSET
    """List of all the types of failed rules."""

    asset_dq_rule_passed_rule_types: Union[list[str], None, UnsetType] = UNSET
    """List of all the types of rules for which all the rules passed."""

    asset_dq_rule_result_tags: Union[list[str], None, UnsetType] = UNSET
    """Tag for the result of the DQ rules. Eg, rule_pass:completeness:null_count."""

    asset_dq_rule_last_run_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the last dq rule ran."""

    asset_dq_rule_total_count: Union[int, None, UnsetType] = UNSET
    """Count of DQ rules attached to this asset."""

    asset_dq_rule_failed_count: Union[int, None, UnsetType] = UNSET
    """Count of failed DQ rules attached to this asset."""

    asset_dq_rule_passed_count: Union[int, None, UnsetType] = UNSET
    """Count of passed DQ rules attached to this asset."""

    asset_dq_result: Union[str, None, UnsetType] = UNSET
    """Overall result of all the dq rules. If any one rule failed, then fail else pass."""

    asset_dq_freshness_value: Union[int, None, UnsetType] = UNSET
    """Value of data freshness from Source."""

    asset_dq_freshness_expectation: Union[int, None, UnsetType] = UNSET
    """Expectation of data freshness from Source."""

    asset_dq_row_scope_filter_column_qualified_name: Union[str, None, UnsetType] = UNSET
    """Qualified name of the column used for row scope filtering in DQ rules for this asset."""

    asset_space_qualified_name: Union[str, None, UnsetType] = UNSET
    """Unique name of the space that contains this asset."""

    asset_space_name: Union[str, None, UnsetType] = UNSET
    """Name of the space that contains this asset."""

    asset_smus_metadata_form_names: Union[list[str], None, UnsetType] = UNSET
    """List of AWS SMUS MetadataForm Names. This is mainly used for filtering purpose."""

    asset_smus_metadata_form_key_value_details: Union[list[str], None, UnsetType] = (
        UNSET
    )
    """List of AWS SMUS MetadataForm Key:Value Details. This is mainly used for filtering purpose."""

    asset_smus_metadata_form_details: Union[list[dict[str, Any]], None, UnsetType] = (
        UNSET
    )
    """AWS SMUS Asset MetadataForm details"""

    # =========================================================================
    # Optimized Serialization Methods (override Asset base class)
    # =========================================================================

    def to_json(self, nested: bool = True, serde: Serde | None = None) -> str:
        """
        Convert to JSON string using optimized nested struct serialization.

        Args:
            nested: If True (default), use nested API format. If False, use flat format.
            serde: Optional Serde instance for encoder reuse. Uses shared singleton if None.

        Returns:
            JSON string representation
        """
        if serde is None:
            serde = get_serde()
        if nested:
            return _asset_to_nested_bytes(self, serde).decode("utf-8")
        else:
            return serde.encode(self).decode("utf-8")

    @staticmethod
    def from_json(json_data: Union[str, bytes], serde: Serde | None = None) -> "Asset":
        """
        Create from JSON string or bytes using optimized nested struct deserialization.

        Args:
            json_data: JSON string or bytes to deserialize
            serde: Optional Serde instance for decoder reuse. Uses shared singleton if None.

        Returns:
            Asset instance
        """
        if isinstance(json_data, str):
            json_data = json_data.encode("utf-8")
        if serde is None:
            serde = get_serde()
        return _asset_from_nested_bytes(json_data, serde)

    # =========================================================================
    # Reference Factory Methods
    # =========================================================================

    @classmethod
    def ref_by_guid(
        cls, guid: str, semantic: "SaveSemantic | str" = SaveSemantic.REPLACE
    ) -> "Asset":
        """
        Create a minimal reference to this asset type by its GUID.

        Args:
            guid: Globally unique identifier of the asset
            semantic: Save semantic (REPLACE, APPEND, REMOVE)

        Returns:
            Asset reference instance
        """
        if isinstance(semantic, str):
            semantic = SaveSemantic(semantic)
        return cls(guid=guid, type_name=cls.__name__, semantic=semantic)

    @classmethod
    def ref_by_qualified_name(
        cls, qualified_name: str, semantic: "SaveSemantic | str" = SaveSemantic.REPLACE
    ) -> "Asset":
        """
        Create a minimal reference to this asset type by its qualifiedName.

        Args:
            qualified_name: Unique fully-qualified name of the asset
            semantic: Save semantic (REPLACE, APPEND, REMOVE)

        Returns:
            Asset reference instance
        """
        if isinstance(semantic, str):
            semantic = SaveSemantic(semantic)
        return cls(
            qualified_name=qualified_name, type_name=cls.__name__, semantic=semantic
        )

    # =========================================================================
    # Asset Mutation Convenience Methods
    # =========================================================================

    def set_announcement(self, announcement) -> None:
        """
        Set an announcement on this asset.

        Args:
            announcement: Announcement object with type, title, and message
        """
        self.announcement_type = announcement.announcement_type.value
        self.announcement_title = announcement.announcement_title
        self.announcement_message = announcement.announcement_message

    def remove_announcement(self) -> "Asset":
        """
        Remove the announcement from this asset.

        Returns:
            Self for fluent chaining
        """
        self.announcement_type = None
        self.announcement_title = None
        self.announcement_message = None
        return self

    def remove_certificate(self) -> "Asset":
        """
        Remove the certificate from this asset.

        Returns:
            Self for fluent chaining
        """
        self.certificate_status = None
        self.certificate_status_message = None
        return self

    def flush_custom_metadata(self, client=None) -> None:
        """
        Flush (clear) all custom metadata on this asset.

        Args:
            client: AtlanClient instance (for compatibility with legacy API)
        """
        self.business_attributes = {}

    # =========================================================================
    # Convenience Methods for Asset Creation and Modification
    # =========================================================================

    @classmethod
    def updater(cls, qualified_name: str = "", name: str = "") -> "Asset":
        """
        Create an asset for modification (update operations).

        Args:
            qualified_name: Unique name of the asset
            name: Name of the asset

        Returns:
            Asset instance configured for update operations

        Raises:
            ValueError: If required parameters are missing
        """
        if not qualified_name:
            raise ValueError("qualified_name is required")
        if not name:
            raise ValueError("name is required")

        return cls(qualified_name=qualified_name, name=name)

    @classmethod
    def create_for_modification(
        cls, qualified_name: str = "", name: str = ""
    ) -> "Asset":
        """
        Create an asset for modification (deprecated - use updater instead).

        Args:
            qualified_name: Unique name of the asset
            name: Name of the asset

        Returns:
            Asset instance configured for update operations
        """
        return cls.updater(qualified_name=qualified_name, name=name)

    def trim_to_required(self) -> "Asset":
        """
        Trim this asset to only the required fields for an update.

        Returns:
            Asset with only qualified_name and name set
        """
        return self.__class__.updater(
            qualified_name=self.qualified_name
            if self.qualified_name is not UNSET
            else "",
            name=self.name if self.name is not UNSET else "",
        )


# ---------------------------------------------------------------------------
# Deferred initialization of Asset field descriptors (avoids circular imports)
# ---------------------------------------------------------------------------
from pyatlan.model.fields.atlan_fields import (
    KeywordField,
    KeywordTextField,
    KeywordTextStemmedField,
)

Asset.NAME = KeywordTextStemmedField("name", "name.keyword", "name", "name.stemmed")
Asset.DISPLAY_NAME = KeywordTextField(
    "displayName", "displayName.keyword", "displayName.delimiter"
)
Asset.CONNECTOR_NAME = KeywordField("connectorName", "connectorName")
Asset.CONNECTION_NAME = KeywordTextField(
    "connectionName", "connectionName", "connectionName.text"
)


# =============================================================================
# NESTED FORMAT CLASSES
# =============================================================================


class AssetAttributes(ReferenceableAttributes):
    """Asset-specific attributes for nested API format."""

    name: Union[str, None, UnsetType] = UNSET
    """Name of this asset. Fallback for display purposes, if displayName is empty."""

    display_name: Union[str, None, UnsetType] = UNSET
    """Human-readable name of this asset used for display purposes (in user interface)."""

    description: Union[str, None, UnsetType] = UNSET
    """Description of this asset, for example as crawled from a source. Fallback for display purposes, if userDescription is empty."""

    asset_source_readme: Union[str, None, UnsetType] = UNSET
    """Readme of this asset, as extracted from source. If present, this will be used for the readme in user interface."""

    user_description: Union[str, None, UnsetType] = UNSET
    """Description of this asset, as provided by a user. If present, this will be used for the description in user interface."""

    tenant_id: Union[str, None, UnsetType] = UNSET
    """Name of the Atlan workspace in which this asset exists."""

    certificate_status: Union[str, None, UnsetType] = UNSET
    """Status of this asset's certification."""

    certificate_status_message: Union[str, None, UnsetType] = UNSET
    """Human-readable descriptive message used to provide further detail to certificateStatus."""

    certificate_updated_by: Union[str, None, UnsetType] = UNSET
    """Name of the user who last updated the certification of this asset."""

    certificate_updated_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the certification was last updated, in milliseconds."""

    announcement_title: Union[str, None, UnsetType] = UNSET
    """Brief title for the announcement on this asset. Required when announcementType is specified."""

    announcement_message: Union[str, None, UnsetType] = UNSET
    """Detailed message to include in the announcement on this asset."""

    announcement_type: Union[str, None, UnsetType] = UNSET
    """Type of announcement on this asset."""

    announcement_updated_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the announcement was last updated, in milliseconds."""

    announcement_updated_by: Union[str, None, UnsetType] = UNSET
    """Name of the user who last updated the announcement."""

    owner_users: Union[list[str], None, UnsetType] = UNSET
    """List of users who own this asset."""

    owner_groups: Union[list[str], None, UnsetType] = UNSET
    """List of groups who own this asset."""

    admin_users: Union[set[str], None, UnsetType] = UNSET
    """List of users who administer this asset. (This is only used for certain asset types.)"""

    admin_groups: Union[set[str], None, UnsetType] = UNSET
    """List of groups who administer this asset. (This is only used for certain asset types.)"""

    viewer_users: Union[list[str], None, UnsetType] = UNSET
    """List of users who can view assets contained in a collection. (This is only used for certain asset types.)"""

    viewer_groups: Union[list[str], None, UnsetType] = UNSET
    """List of groups who can view assets contained in a collection. (This is only used for certain asset types.)"""

    connector_name: Union[str, None, UnsetType] = UNSET
    """Type of the connector through which this asset is accessible."""

    connection_name: Union[str, None, UnsetType] = UNSET
    """Simple name of the connection through which this asset is accessible."""

    connection_qualified_name: Union[str, None, UnsetType] = UNSET
    """Unique name of the connection through which this asset is accessible."""

    has_lineage: Union[bool, None, UnsetType] = msgspec.field(
        default=UNSET, name="__hasLineage"
    )
    """Whether this asset has lineage (true) or not (false)."""

    is_discoverable: Union[bool, None, UnsetType] = UNSET
    """Whether this asset is discoverable through the UI (true) or not (false)."""

    is_editable: Union[bool, None, UnsetType] = UNSET
    """Whether this asset can be edited in the UI (true) or not (false)."""

    sub_type: Union[str, None, UnsetType] = UNSET
    """Subtype of this asset."""

    view_score: Union[float, None, UnsetType] = UNSET
    """View score for this asset."""

    popularity_score: Union[float, None, UnsetType] = UNSET
    """Popularity score for this asset."""

    source_owners: Union[str, None, UnsetType] = UNSET
    """List of owners of this asset, in the source system."""

    asset_source_id: Union[str, None, UnsetType] = UNSET
    """Unique identifier for this asset in the system from which it was sourced."""

    source_created_by: Union[str, None, UnsetType] = UNSET
    """Name of the user who created this asset, in the source system."""

    source_created_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which this asset was created in the source system, in milliseconds."""

    source_updated_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which this asset was last updated in the source system, in milliseconds."""

    source_updated_by: Union[str, None, UnsetType] = UNSET
    """Name of the user who last updated this asset, in the source system."""

    source_url: Union[str, None, UnsetType] = UNSET
    """URL to the resource within the source application, used to create a button to view this asset in the source application."""

    source_embed_url: Union[str, None, UnsetType] = UNSET
    """URL to create an embed for a resource (for example, an image of a dashboard) within Atlan."""

    last_sync_workflow_name: Union[str, None, UnsetType] = UNSET
    """Name of the crawler that last synchronized this asset."""

    last_sync_run_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which this asset was last crawled, in milliseconds."""

    last_sync_run: Union[str, None, UnsetType] = UNSET
    """Name of the last run of the crawler that last synchronized this asset."""

    admin_roles: Union[set[str], None, UnsetType] = UNSET
    """List of roles who administer this asset. (This is only used for Connection assets.)"""

    source_read_count: Union[int, None, UnsetType] = UNSET
    """Total count of all read operations at source."""

    source_read_user_count: Union[int, None, UnsetType] = UNSET
    """Total number of unique users that read data from asset."""

    source_last_read_at: Union[int, None, UnsetType] = UNSET
    """Timestamp of most recent read operation."""

    last_row_changed_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) of the last operation that inserted, updated, or deleted rows, in milliseconds."""

    source_total_cost: Union[float, None, UnsetType] = UNSET
    """Total cost of all operations at source."""

    source_cost_unit: Union[str, None, UnsetType] = UNSET
    """The unit of measure for sourceTotalCost."""

    source_read_query_cost: Union[float, None, UnsetType] = UNSET
    """Total cost of read queries at source."""

    source_read_recent_user_list: Union[list[str], None, UnsetType] = UNSET
    """List of usernames of the most recent users who read this asset."""

    source_read_recent_user_record_list: Union[
        list[dict[str, Any]], None, UnsetType
    ] = UNSET
    """List of usernames with extra insights for the most recent users who read this asset."""

    source_read_top_user_list: Union[list[str], None, UnsetType] = UNSET
    """List of usernames of the users who read this asset the most."""

    source_read_top_user_record_list: Union[list[dict[str, Any]], None, UnsetType] = (
        UNSET
    )
    """List of usernames with extra insights for the users who read this asset the most."""

    source_read_popular_query_record_list: Union[
        list[dict[str, Any]], None, UnsetType
    ] = UNSET
    """List of the most popular queries that accessed this asset."""

    source_read_expensive_query_record_list: Union[
        list[dict[str, Any]], None, UnsetType
    ] = UNSET
    """List of the most expensive queries that accessed this asset."""

    source_read_slow_query_record_list: Union[list[dict[str, Any]], None, UnsetType] = (
        UNSET
    )
    """List of the slowest queries that accessed this asset."""

    source_query_compute_cost_list: Union[list[str], None, UnsetType] = UNSET
    """List of most expensive warehouse names."""

    source_query_compute_cost_record_list: Union[
        list[dict[str, Any]], None, UnsetType
    ] = UNSET
    """List of most expensive warehouses with extra insights."""

    dbt_qualified_name: Union[str, None, UnsetType] = UNSET
    """Unique name of this asset in dbt."""

    asset_dbt_workflow_last_updated: Union[str, None, UnsetType] = UNSET
    """Name of the DBT workflow in Atlan that last updated the asset."""

    asset_dbt_alias: Union[str, None, UnsetType] = UNSET
    """Alias of this asset in dbt."""

    asset_dbt_meta: Union[str, None, UnsetType] = UNSET
    """Metadata for this asset in dbt, specifically everything under the 'meta' key in the dbt object."""

    asset_dbt_unique_id: Union[str, None, UnsetType] = UNSET
    """Unique identifier of this asset in dbt."""

    asset_dbt_account_name: Union[str, None, UnsetType] = UNSET
    """Name of the account in which this asset exists in dbt."""

    asset_dbt_project_name: Union[str, None, UnsetType] = UNSET
    """Name of the project in which this asset exists in dbt."""

    asset_dbt_package_name: Union[str, None, UnsetType] = UNSET
    """Name of the package in which this asset exists in dbt."""

    asset_dbt_job_name: Union[str, None, UnsetType] = UNSET
    """Name of the job that materialized this asset in dbt."""

    asset_dbt_job_schedule: Union[str, None, UnsetType] = UNSET
    """Schedule of the job that materialized this asset in dbt."""

    asset_dbt_job_status: Union[str, None, UnsetType] = UNSET
    """Status of the job that materialized this asset in dbt."""

    asset_dbt_test_status: Union[str, None, UnsetType] = UNSET
    """All associated dbt test statuses."""

    asset_dbt_job_schedule_cron_humanized: Union[str, None, UnsetType] = UNSET
    """Human-readable cron schedule of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the job that materialized this asset in dbt last ran, in milliseconds."""

    asset_dbt_job_last_run_url: Union[str, None, UnsetType] = UNSET
    """URL of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_created_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the job that materialized this asset in dbt was last created, in milliseconds."""

    asset_dbt_job_last_run_updated_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the job that materialized this asset in dbt was last updated, in milliseconds."""

    asset_dbt_job_last_run_dequed_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the job that materialized this asset in dbt was dequeued, in milliseconds."""

    asset_dbt_job_last_run_started_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the job that materialized this asset in dbt was started running, in milliseconds."""

    asset_dbt_job_last_run_total_duration: Union[str, None, UnsetType] = UNSET
    """Total duration of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_total_duration_humanized: Union[str, None, UnsetType] = UNSET
    """Human-readable total duration of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_queued_duration: Union[str, None, UnsetType] = UNSET
    """Total duration the job that materialized this asset in dbt spent being queued."""

    asset_dbt_job_last_run_queued_duration_humanized: Union[str, None, UnsetType] = (
        UNSET
    )
    """Human-readable total duration of the last run of the job that materialized this asset in dbt spend being queued."""

    asset_dbt_job_last_run_run_duration: Union[str, None, UnsetType] = UNSET
    """Run duration of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_run_duration_humanized: Union[str, None, UnsetType] = UNSET
    """Human-readable run duration of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_git_branch: Union[str, None, UnsetType] = UNSET
    """Branch in git from which the last run of the job that materialized this asset in dbt ran."""

    asset_dbt_job_last_run_git_sha: Union[str, None, UnsetType] = UNSET
    """SHA hash in git for the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_status_message: Union[str, None, UnsetType] = UNSET
    """Status message of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_owner_thread_id: Union[str, None, UnsetType] = UNSET
    """Thread ID of the owner of the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_executed_by_thread_id: Union[str, None, UnsetType] = UNSET
    """Thread ID of the user who executed the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_artifacts_saved: Union[bool, None, UnsetType] = UNSET
    """Whether artifacts were saved from the last run of the job that materialized this asset in dbt (true) or not (false)."""

    asset_dbt_job_last_run_artifact_s3_path: Union[str, None, UnsetType] = UNSET
    """Path in S3 to the artifacts saved from the last run of the job that materialized this asset in dbt."""

    asset_dbt_job_last_run_has_docs_generated: Union[bool, None, UnsetType] = UNSET
    """Whether docs were generated from the last run of the job that materialized this asset in dbt (true) or not (false)."""

    asset_dbt_job_last_run_has_sources_generated: Union[bool, None, UnsetType] = UNSET
    """Whether sources were generated from the last run of the job that materialized this asset in dbt (true) or not (false)."""

    asset_dbt_job_last_run_notifications_sent: Union[bool, None, UnsetType] = UNSET
    """Whether notifications were sent from the last run of the job that materialized this asset in dbt (true) or not (false)."""

    asset_dbt_job_next_run: Union[int, None, UnsetType] = UNSET
    """Time (epoch) when the next run of the job that materializes this asset in dbt is scheduled."""

    asset_dbt_job_next_run_humanized: Union[str, None, UnsetType] = UNSET
    """Human-readable time when the next run of the job that materializes this asset in dbt is scheduled."""

    asset_dbt_environment_name: Union[str, None, UnsetType] = UNSET
    """Name of the environment in which this asset is materialized in dbt."""

    asset_dbt_environment_dbt_version: Union[str, None, UnsetType] = UNSET
    """Version of the environment in which this asset is materialized in dbt."""

    asset_dbt_tags: Union[list[str], None, UnsetType] = UNSET
    """List of tags attached to this asset in dbt."""

    asset_dbt_semantic_layer_proxy_url: Union[str, None, UnsetType] = UNSET
    """URL of the semantic layer proxy for this asset in dbt."""

    asset_dbt_source_freshness_criteria: Union[str, None, UnsetType] = UNSET
    """Freshness criteria for the source of this asset in dbt."""

    sample_data_url: Union[str, None, UnsetType] = UNSET
    """URL for sample data for this asset."""

    asset_tags: Union[list[str], None, UnsetType] = UNSET
    """List of tags attached to this asset."""

    asset_mc_incident_names: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo incident names attached to this asset."""

    asset_mc_incident_qualified_names: Union[list[str], None, UnsetType] = UNSET
    """List of unique Monte Carlo incident names attached to this asset."""

    asset_mc_alert_qualified_names: Union[list[str], None, UnsetType] = UNSET
    """List of unique Monte Carlo alert names attached to this asset."""

    asset_mc_monitor_names: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo monitor names attached to this asset."""

    asset_mc_monitor_qualified_names: Union[list[str], None, UnsetType] = UNSET
    """List of unique Monte Carlo monitor names attached to this asset."""

    asset_mc_monitor_statuses: Union[list[str], None, UnsetType] = UNSET
    """Statuses of all associated Monte Carlo monitors."""

    asset_mc_monitor_types: Union[list[str], None, UnsetType] = UNSET
    """Types of all associated Monte Carlo monitors."""

    asset_mc_monitor_schedule_types: Union[list[str], None, UnsetType] = UNSET
    """Schedules of all associated Monte Carlo monitors."""

    asset_mc_incident_types: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo incident types associated with this asset."""

    asset_mc_incident_sub_types: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo incident sub-types associated with this asset."""

    asset_mc_incident_severities: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo incident severities associated with this asset."""

    asset_mc_incident_priorities: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo incident priorities associated with this asset."""

    asset_mc_incident_states: Union[list[str], None, UnsetType] = UNSET
    """List of Monte Carlo incident states associated with this asset."""

    asset_mc_is_monitored: Union[bool, None, UnsetType] = UNSET
    """Tracks whether this asset is monitored by MC or not"""

    asset_mc_last_sync_run_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which this asset was last synced from Monte Carlo."""

    starred_by: Union[list[str], None, UnsetType] = UNSET
    """Users who have starred this asset."""

    starred_details_list: Union[list[dict[str, Any]], None, UnsetType] = UNSET
    """List of usernames with extra information of the users who have starred an asset."""

    starred_count: Union[int, None, UnsetType] = UNSET
    """Number of users who have starred this asset."""

    asset_anomalo_dq_status: Union[str, None, UnsetType] = UNSET
    """Status of data quality from Anomalo."""

    asset_anomalo_check_count: Union[int, None, UnsetType] = UNSET
    """Total number of checks present in Anomalo for this asset."""

    asset_anomalo_failed_check_count: Union[int, None, UnsetType] = UNSET
    """Total number of checks failed in Anomalo for this asset."""

    asset_anomalo_check_statuses: Union[str, None, UnsetType] = UNSET
    """Stringified JSON object containing status of all Anomalo checks associated to this asset."""

    asset_anomalo_last_check_run_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the last check was run via Anomalo."""

    asset_anomalo_applied_check_types: Union[list[str], None, UnsetType] = UNSET
    """All associated Anomalo check types."""

    asset_anomalo_failed_check_types: Union[list[str], None, UnsetType] = UNSET
    """All associated Anomalo failed check types."""

    asset_anomalo_source_url: Union[str, None, UnsetType] = UNSET
    """URL of the source in Anomalo."""

    asset_soda_dq_status: Union[str, None, UnsetType] = UNSET
    """Status of data quality from Soda."""

    asset_soda_check_count: Union[int, None, UnsetType] = UNSET
    """Number of checks done via Soda."""

    asset_soda_last_sync_run_at: Union[int, None, UnsetType] = UNSET
    """"""

    asset_soda_last_scan_at: Union[int, None, UnsetType] = UNSET
    """"""

    asset_soda_check_statuses: Union[str, None, UnsetType] = UNSET
    """All associated Soda check statuses."""

    asset_soda_source_url: Union[str, None, UnsetType] = UNSET
    """"""

    asset_icon: Union[str, None, UnsetType] = UNSET
    """Name of the icon to use for this asset. (Only applies to glossaries, currently.)"""

    asset_external_dq_metadata_details: Union[
        dict[str, dict[str, Any]], None, UnsetType
    ] = UNSET
    """DQ metadata captured for asset from external DQ tool(s)."""

    is_partial: Union[bool, None, UnsetType] = UNSET
    """Indicates this asset is not fully-known, if true."""

    is_ai_generated: Union[bool, None, UnsetType] = UNSET
    """"""

    asset_cover_image: Union[str, None, UnsetType] = UNSET
    """Cover image to use for this asset in the UI (applicable to only a few asset types)."""

    asset_theme_hex: Union[str, None, UnsetType] = UNSET
    """Color (in hexadecimal RGB) to use to represent this asset."""

    lexicographical_sort_order: Union[str, None, UnsetType] = UNSET
    """Custom order for sorting purpose, managed by client"""

    has_contract: Union[bool, None, UnsetType] = UNSET
    """Whether this asset has contract (true) or not (false)."""

    asset_redirect_gui_ds: Union[list[str], None, UnsetType] = UNSET
    """Array of asset ids that equivalent to this asset."""

    asset_policy_gui_ds: Union[list[str], None, UnsetType] = UNSET
    """Array of policy ids governing this asset"""

    asset_policies_count: Union[int, None, UnsetType] = UNSET
    """Count of policies inside the asset"""

    domain_gui_ds: Union[list[str], None, UnsetType] = UNSET
    """Array of domain guids linked to this asset"""

    non_compliant_asset_policy_gui_ds: Union[list[str], None, UnsetType] = UNSET
    """Array of policy ids non-compliant to this asset"""

    product_gui_ds: Union[list[str], None, UnsetType] = UNSET
    """Array of product guids linked to this asset"""

    output_product_gui_ds: Union[list[str], None, UnsetType] = UNSET
    """Array of product guids which have this asset as outputPort"""

    application_qualified_name: Union[str, None, UnsetType] = UNSET
    """Qualified name of the Application that contains this asset."""

    application_field_qualified_name: Union[str, None, UnsetType] = UNSET
    """Qualified name of the ApplicationField that contains this asset."""

    asset_user_defined_type: Union[str, None, UnsetType] = UNSET
    """Name to use for this type of asset, as a subtype of the actual typeName."""

    asset_internal_popularity_score: Union[float, None, UnsetType] = UNSET
    """Internal Popularity score for this asset."""

    asset_dq_schedule_type: Union[str, None, UnsetType] = UNSET
    """Type of schedule of the DQ rule that will run at datasource."""

    asset_dq_schedule_crontab: Union[str, None, UnsetType] = UNSET
    """Crontab of the DQ rule that will run at datasource."""

    asset_dq_schedule_time_zone: Union[str, None, UnsetType] = UNSET
    """Timezone of the DQ rule schedule that will run at datasource"""

    asset_dq_schedule_source_sync_status: Union[str, None, UnsetType] = UNSET
    """Latest sync status of the schedule to the source."""

    asset_dq_schedule_source_synced_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the schedule synced to the source."""

    asset_dq_schedule_source_sync_error_message: Union[str, None, UnsetType] = UNSET
    """Error message in the case of sync state being "error"."""

    asset_dq_schedule_source_sync_error_code: Union[str, None, UnsetType] = UNSET
    """Error code in the case of sync state being "error"."""

    asset_dq_schedule_source_sync_raw_error: Union[str, None, UnsetType] = UNSET
    """Raw error message from the source."""

    asset_dq_rule_attached_dimensions: Union[list[str], None, UnsetType] = UNSET
    """List of all the dimensions of attached rules."""

    asset_dq_rule_failed_dimensions: Union[list[str], None, UnsetType] = UNSET
    """List of all the dimensions of failed rules."""

    asset_dq_rule_passed_dimensions: Union[list[str], None, UnsetType] = UNSET
    """List of all the dimensions for which all the rules passed."""

    asset_dq_rule_attached_rule_types: Union[list[str], None, UnsetType] = UNSET
    """List of all the types of attached rules."""

    asset_dq_rule_failed_rule_types: Union[list[str], None, UnsetType] = UNSET
    """List of all the types of failed rules."""

    asset_dq_rule_passed_rule_types: Union[list[str], None, UnsetType] = UNSET
    """List of all the types of rules for which all the rules passed."""

    asset_dq_rule_result_tags: Union[list[str], None, UnsetType] = UNSET
    """Tag for the result of the DQ rules. Eg, rule_pass:completeness:null_count."""

    asset_dq_rule_last_run_at: Union[int, None, UnsetType] = UNSET
    """Time (epoch) at which the last dq rule ran."""

    asset_dq_rule_total_count: Union[int, None, UnsetType] = UNSET
    """Count of DQ rules attached to this asset."""

    asset_dq_rule_failed_count: Union[int, None, UnsetType] = UNSET
    """Count of failed DQ rules attached to this asset."""

    asset_dq_rule_passed_count: Union[int, None, UnsetType] = UNSET
    """Count of passed DQ rules attached to this asset."""

    asset_dq_result: Union[str, None, UnsetType] = UNSET
    """Overall result of all the dq rules. If any one rule failed, then fail else pass."""

    asset_dq_freshness_value: Union[int, None, UnsetType] = UNSET
    """Value of data freshness from Source."""

    asset_dq_freshness_expectation: Union[int, None, UnsetType] = UNSET
    """Expectation of data freshness from Source."""

    asset_dq_row_scope_filter_column_qualified_name: Union[str, None, UnsetType] = UNSET
    """Qualified name of the column used for row scope filtering in DQ rules for this asset."""

    asset_space_qualified_name: Union[str, None, UnsetType] = UNSET
    """Unique name of the space that contains this asset."""

    asset_space_name: Union[str, None, UnsetType] = UNSET
    """Name of the space that contains this asset."""

    asset_smus_metadata_form_names: Union[list[str], None, UnsetType] = UNSET
    """List of AWS SMUS MetadataForm Names. This is mainly used for filtering purpose."""

    asset_smus_metadata_form_key_value_details: Union[list[str], None, UnsetType] = (
        UNSET
    )
    """List of AWS SMUS MetadataForm Key:Value Details. This is mainly used for filtering purpose."""

    asset_smus_metadata_form_details: Union[list[dict[str, Any]], None, UnsetType] = (
        UNSET
    )
    """AWS SMUS Asset MetadataForm details"""


class AssetRelationshipAttributes(ReferenceableRelationshipAttributes):
    """Asset-specific relationship attributes for nested API format."""

    pass


class AssetNested(ReferenceableNested):
    """Asset in nested API format for high-performance serialization."""

    attributes: Union[AssetAttributes, UnsetType] = UNSET
    relationship_attributes: Union[AssetRelationshipAttributes, UnsetType] = UNSET
    append_relationship_attributes: Union[AssetRelationshipAttributes, UnsetType] = (
        UNSET
    )
    remove_relationship_attributes: Union[AssetRelationshipAttributes, UnsetType] = (
        UNSET
    )


# =============================================================================
# CONVERSION FUNCTIONS
# =============================================================================


def _asset_to_nested(asset: Asset) -> AssetNested:
    """Convert flat Asset to nested format."""
    attrs = AssetAttributes(
        name=asset.name,
        display_name=asset.display_name,
        description=asset.description,
        asset_source_readme=asset.asset_source_readme,
        user_description=asset.user_description,
        tenant_id=asset.tenant_id,
        certificate_status=asset.certificate_status,
        certificate_status_message=asset.certificate_status_message,
        certificate_updated_by=asset.certificate_updated_by,
        certificate_updated_at=asset.certificate_updated_at,
        announcement_title=asset.announcement_title,
        announcement_message=asset.announcement_message,
        announcement_type=asset.announcement_type,
        announcement_updated_at=asset.announcement_updated_at,
        announcement_updated_by=asset.announcement_updated_by,
        owner_users=asset.owner_users,
        owner_groups=asset.owner_groups,
        admin_users=asset.admin_users,
        admin_groups=asset.admin_groups,
        viewer_users=asset.viewer_users,
        viewer_groups=asset.viewer_groups,
        connector_name=asset.connector_name,
        connection_name=asset.connection_name,
        connection_qualified_name=asset.connection_qualified_name,
        has_lineage=asset.has_lineage,
        is_discoverable=asset.is_discoverable,
        is_editable=asset.is_editable,
        sub_type=asset.sub_type,
        view_score=asset.view_score,
        popularity_score=asset.popularity_score,
        source_owners=asset.source_owners,
        asset_source_id=asset.asset_source_id,
        source_created_by=asset.source_created_by,
        source_created_at=asset.source_created_at,
        source_updated_at=asset.source_updated_at,
        source_updated_by=asset.source_updated_by,
        source_url=asset.source_url,
        source_embed_url=asset.source_embed_url,
        last_sync_workflow_name=asset.last_sync_workflow_name,
        last_sync_run_at=asset.last_sync_run_at,
        last_sync_run=asset.last_sync_run,
        admin_roles=asset.admin_roles,
        source_read_count=asset.source_read_count,
        source_read_user_count=asset.source_read_user_count,
        source_last_read_at=asset.source_last_read_at,
        last_row_changed_at=asset.last_row_changed_at,
        source_total_cost=asset.source_total_cost,
        source_cost_unit=asset.source_cost_unit,
        source_read_query_cost=asset.source_read_query_cost,
        source_read_recent_user_list=asset.source_read_recent_user_list,
        source_read_recent_user_record_list=asset.source_read_recent_user_record_list,
        source_read_top_user_list=asset.source_read_top_user_list,
        source_read_top_user_record_list=asset.source_read_top_user_record_list,
        source_read_popular_query_record_list=asset.source_read_popular_query_record_list,
        source_read_expensive_query_record_list=asset.source_read_expensive_query_record_list,
        source_read_slow_query_record_list=asset.source_read_slow_query_record_list,
        source_query_compute_cost_list=asset.source_query_compute_cost_list,
        source_query_compute_cost_record_list=asset.source_query_compute_cost_record_list,
        dbt_qualified_name=asset.dbt_qualified_name,
        asset_dbt_workflow_last_updated=asset.asset_dbt_workflow_last_updated,
        asset_dbt_alias=asset.asset_dbt_alias,
        asset_dbt_meta=asset.asset_dbt_meta,
        asset_dbt_unique_id=asset.asset_dbt_unique_id,
        asset_dbt_account_name=asset.asset_dbt_account_name,
        asset_dbt_project_name=asset.asset_dbt_project_name,
        asset_dbt_package_name=asset.asset_dbt_package_name,
        asset_dbt_job_name=asset.asset_dbt_job_name,
        asset_dbt_job_schedule=asset.asset_dbt_job_schedule,
        asset_dbt_job_status=asset.asset_dbt_job_status,
        asset_dbt_test_status=asset.asset_dbt_test_status,
        asset_dbt_job_schedule_cron_humanized=asset.asset_dbt_job_schedule_cron_humanized,
        asset_dbt_job_last_run=asset.asset_dbt_job_last_run,
        asset_dbt_job_last_run_url=asset.asset_dbt_job_last_run_url,
        asset_dbt_job_last_run_created_at=asset.asset_dbt_job_last_run_created_at,
        asset_dbt_job_last_run_updated_at=asset.asset_dbt_job_last_run_updated_at,
        asset_dbt_job_last_run_dequed_at=asset.asset_dbt_job_last_run_dequed_at,
        asset_dbt_job_last_run_started_at=asset.asset_dbt_job_last_run_started_at,
        asset_dbt_job_last_run_total_duration=asset.asset_dbt_job_last_run_total_duration,
        asset_dbt_job_last_run_total_duration_humanized=asset.asset_dbt_job_last_run_total_duration_humanized,
        asset_dbt_job_last_run_queued_duration=asset.asset_dbt_job_last_run_queued_duration,
        asset_dbt_job_last_run_queued_duration_humanized=asset.asset_dbt_job_last_run_queued_duration_humanized,
        asset_dbt_job_last_run_run_duration=asset.asset_dbt_job_last_run_run_duration,
        asset_dbt_job_last_run_run_duration_humanized=asset.asset_dbt_job_last_run_run_duration_humanized,
        asset_dbt_job_last_run_git_branch=asset.asset_dbt_job_last_run_git_branch,
        asset_dbt_job_last_run_git_sha=asset.asset_dbt_job_last_run_git_sha,
        asset_dbt_job_last_run_status_message=asset.asset_dbt_job_last_run_status_message,
        asset_dbt_job_last_run_owner_thread_id=asset.asset_dbt_job_last_run_owner_thread_id,
        asset_dbt_job_last_run_executed_by_thread_id=asset.asset_dbt_job_last_run_executed_by_thread_id,
        asset_dbt_job_last_run_artifacts_saved=asset.asset_dbt_job_last_run_artifacts_saved,
        asset_dbt_job_last_run_artifact_s3_path=asset.asset_dbt_job_last_run_artifact_s3_path,
        asset_dbt_job_last_run_has_docs_generated=asset.asset_dbt_job_last_run_has_docs_generated,
        asset_dbt_job_last_run_has_sources_generated=asset.asset_dbt_job_last_run_has_sources_generated,
        asset_dbt_job_last_run_notifications_sent=asset.asset_dbt_job_last_run_notifications_sent,
        asset_dbt_job_next_run=asset.asset_dbt_job_next_run,
        asset_dbt_job_next_run_humanized=asset.asset_dbt_job_next_run_humanized,
        asset_dbt_environment_name=asset.asset_dbt_environment_name,
        asset_dbt_environment_dbt_version=asset.asset_dbt_environment_dbt_version,
        asset_dbt_tags=asset.asset_dbt_tags,
        asset_dbt_semantic_layer_proxy_url=asset.asset_dbt_semantic_layer_proxy_url,
        asset_dbt_source_freshness_criteria=asset.asset_dbt_source_freshness_criteria,
        sample_data_url=asset.sample_data_url,
        asset_tags=asset.asset_tags,
        asset_mc_incident_names=asset.asset_mc_incident_names,
        asset_mc_incident_qualified_names=asset.asset_mc_incident_qualified_names,
        asset_mc_alert_qualified_names=asset.asset_mc_alert_qualified_names,
        asset_mc_monitor_names=asset.asset_mc_monitor_names,
        asset_mc_monitor_qualified_names=asset.asset_mc_monitor_qualified_names,
        asset_mc_monitor_statuses=asset.asset_mc_monitor_statuses,
        asset_mc_monitor_types=asset.asset_mc_monitor_types,
        asset_mc_monitor_schedule_types=asset.asset_mc_monitor_schedule_types,
        asset_mc_incident_types=asset.asset_mc_incident_types,
        asset_mc_incident_sub_types=asset.asset_mc_incident_sub_types,
        asset_mc_incident_severities=asset.asset_mc_incident_severities,
        asset_mc_incident_priorities=asset.asset_mc_incident_priorities,
        asset_mc_incident_states=asset.asset_mc_incident_states,
        asset_mc_is_monitored=asset.asset_mc_is_monitored,
        asset_mc_last_sync_run_at=asset.asset_mc_last_sync_run_at,
        starred_by=asset.starred_by,
        starred_details_list=asset.starred_details_list,
        starred_count=asset.starred_count,
        asset_anomalo_dq_status=asset.asset_anomalo_dq_status,
        asset_anomalo_check_count=asset.asset_anomalo_check_count,
        asset_anomalo_failed_check_count=asset.asset_anomalo_failed_check_count,
        asset_anomalo_check_statuses=asset.asset_anomalo_check_statuses,
        asset_anomalo_last_check_run_at=asset.asset_anomalo_last_check_run_at,
        asset_anomalo_applied_check_types=asset.asset_anomalo_applied_check_types,
        asset_anomalo_failed_check_types=asset.asset_anomalo_failed_check_types,
        asset_anomalo_source_url=asset.asset_anomalo_source_url,
        asset_soda_dq_status=asset.asset_soda_dq_status,
        asset_soda_check_count=asset.asset_soda_check_count,
        asset_soda_last_sync_run_at=asset.asset_soda_last_sync_run_at,
        asset_soda_last_scan_at=asset.asset_soda_last_scan_at,
        asset_soda_check_statuses=asset.asset_soda_check_statuses,
        asset_soda_source_url=asset.asset_soda_source_url,
        asset_icon=asset.asset_icon,
        asset_external_dq_metadata_details=asset.asset_external_dq_metadata_details,
        is_partial=asset.is_partial,
        is_ai_generated=asset.is_ai_generated,
        asset_cover_image=asset.asset_cover_image,
        asset_theme_hex=asset.asset_theme_hex,
        lexicographical_sort_order=asset.lexicographical_sort_order,
        has_contract=asset.has_contract,
        asset_redirect_gui_ds=asset.asset_redirect_gui_ds,
        asset_policy_gui_ds=asset.asset_policy_gui_ds,
        asset_policies_count=asset.asset_policies_count,
        domain_gui_ds=asset.domain_gui_ds,
        non_compliant_asset_policy_gui_ds=asset.non_compliant_asset_policy_gui_ds,
        product_gui_ds=asset.product_gui_ds,
        output_product_gui_ds=asset.output_product_gui_ds,
        application_qualified_name=asset.application_qualified_name,
        application_field_qualified_name=asset.application_field_qualified_name,
        asset_user_defined_type=asset.asset_user_defined_type,
        asset_internal_popularity_score=asset.asset_internal_popularity_score,
        asset_dq_schedule_type=asset.asset_dq_schedule_type,
        asset_dq_schedule_crontab=asset.asset_dq_schedule_crontab,
        asset_dq_schedule_time_zone=asset.asset_dq_schedule_time_zone,
        asset_dq_schedule_source_sync_status=asset.asset_dq_schedule_source_sync_status,
        asset_dq_schedule_source_synced_at=asset.asset_dq_schedule_source_synced_at,
        asset_dq_schedule_source_sync_error_message=asset.asset_dq_schedule_source_sync_error_message,
        asset_dq_schedule_source_sync_error_code=asset.asset_dq_schedule_source_sync_error_code,
        asset_dq_schedule_source_sync_raw_error=asset.asset_dq_schedule_source_sync_raw_error,
        asset_dq_rule_attached_dimensions=asset.asset_dq_rule_attached_dimensions,
        asset_dq_rule_failed_dimensions=asset.asset_dq_rule_failed_dimensions,
        asset_dq_rule_passed_dimensions=asset.asset_dq_rule_passed_dimensions,
        asset_dq_rule_attached_rule_types=asset.asset_dq_rule_attached_rule_types,
        asset_dq_rule_failed_rule_types=asset.asset_dq_rule_failed_rule_types,
        asset_dq_rule_passed_rule_types=asset.asset_dq_rule_passed_rule_types,
        asset_dq_rule_result_tags=asset.asset_dq_rule_result_tags,
        asset_dq_rule_last_run_at=asset.asset_dq_rule_last_run_at,
        asset_dq_rule_total_count=asset.asset_dq_rule_total_count,
        asset_dq_rule_failed_count=asset.asset_dq_rule_failed_count,
        asset_dq_rule_passed_count=asset.asset_dq_rule_passed_count,
        asset_dq_result=asset.asset_dq_result,
        asset_dq_freshness_value=asset.asset_dq_freshness_value,
        asset_dq_freshness_expectation=asset.asset_dq_freshness_expectation,
        asset_dq_row_scope_filter_column_qualified_name=asset.asset_dq_row_scope_filter_column_qualified_name,
        asset_space_qualified_name=asset.asset_space_qualified_name,
        asset_space_name=asset.asset_space_name,
        asset_smus_metadata_form_names=asset.asset_smus_metadata_form_names,
        asset_smus_metadata_form_key_value_details=asset.asset_smus_metadata_form_key_value_details,
        asset_smus_metadata_form_details=asset.asset_smus_metadata_form_details,
    )
    # Categorize relationships by save semantic (REPLACE, APPEND, REMOVE)
    rel_fields: list[str] = []
    replace_rels, append_rels, remove_rels = categorize_relationships(
        asset, rel_fields, AssetRelationshipAttributes
    )
    return AssetNested(
        guid=asset.guid,
        type_name=asset.type_name,
        status=asset.status,
        version=asset.version,
        create_time=asset.create_time,
        update_time=asset.update_time,
        created_by=asset.created_by,
        updated_by=asset.updated_by,
        classifications=asset.classifications,
        classification_names=asset.classification_names,
        meanings=asset.meanings,
        labels=asset.labels,
        business_attributes=asset.business_attributes,
        custom_attributes=asset.custom_attributes,
        pending_tasks=asset.pending_tasks,
        proxy=asset.proxy,
        is_incomplete=asset.is_incomplete,
        provenance_type=asset.provenance_type,
        home_id=asset.home_id,
        attributes=attrs,
        relationship_attributes=replace_rels,
        append_relationship_attributes=append_rels,
        remove_relationship_attributes=remove_rels,
    )


def _asset_from_nested(nested: AssetNested) -> Asset:
    """Convert nested format to flat Asset."""
    attrs = nested.attributes if nested.attributes is not UNSET else AssetAttributes()
    # Merge relationships from all three buckets
    rel_fields: list[str] = []
    merged_rels = merge_relationships(
        nested.relationship_attributes,
        nested.append_relationship_attributes,
        nested.remove_relationship_attributes,
        rel_fields,
        AssetRelationshipAttributes,
    )
    return Asset(
        guid=nested.guid,
        type_name=nested.type_name,
        status=nested.status,
        version=nested.version,
        create_time=nested.create_time,
        update_time=nested.update_time,
        created_by=nested.created_by,
        updated_by=nested.updated_by,
        classifications=nested.classifications,
        classification_names=nested.classification_names,
        meanings=nested.meanings,
        labels=nested.labels,
        business_attributes=nested.business_attributes,
        custom_attributes=nested.custom_attributes,
        pending_tasks=nested.pending_tasks,
        proxy=nested.proxy,
        is_incomplete=nested.is_incomplete,
        provenance_type=nested.provenance_type,
        home_id=nested.home_id,
        name=attrs.name,
        display_name=attrs.display_name,
        description=attrs.description,
        asset_source_readme=attrs.asset_source_readme,
        user_description=attrs.user_description,
        tenant_id=attrs.tenant_id,
        certificate_status=attrs.certificate_status,
        certificate_status_message=attrs.certificate_status_message,
        certificate_updated_by=attrs.certificate_updated_by,
        certificate_updated_at=attrs.certificate_updated_at,
        announcement_title=attrs.announcement_title,
        announcement_message=attrs.announcement_message,
        announcement_type=attrs.announcement_type,
        announcement_updated_at=attrs.announcement_updated_at,
        announcement_updated_by=attrs.announcement_updated_by,
        owner_users=attrs.owner_users,
        owner_groups=attrs.owner_groups,
        admin_users=attrs.admin_users,
        admin_groups=attrs.admin_groups,
        viewer_users=attrs.viewer_users,
        viewer_groups=attrs.viewer_groups,
        connector_name=attrs.connector_name,
        connection_name=attrs.connection_name,
        connection_qualified_name=attrs.connection_qualified_name,
        has_lineage=attrs.has_lineage,
        is_discoverable=attrs.is_discoverable,
        is_editable=attrs.is_editable,
        sub_type=attrs.sub_type,
        view_score=attrs.view_score,
        popularity_score=attrs.popularity_score,
        source_owners=attrs.source_owners,
        asset_source_id=attrs.asset_source_id,
        source_created_by=attrs.source_created_by,
        source_created_at=attrs.source_created_at,
        source_updated_at=attrs.source_updated_at,
        source_updated_by=attrs.source_updated_by,
        source_url=attrs.source_url,
        source_embed_url=attrs.source_embed_url,
        last_sync_workflow_name=attrs.last_sync_workflow_name,
        last_sync_run_at=attrs.last_sync_run_at,
        last_sync_run=attrs.last_sync_run,
        admin_roles=attrs.admin_roles,
        source_read_count=attrs.source_read_count,
        source_read_user_count=attrs.source_read_user_count,
        source_last_read_at=attrs.source_last_read_at,
        last_row_changed_at=attrs.last_row_changed_at,
        source_total_cost=attrs.source_total_cost,
        source_cost_unit=attrs.source_cost_unit,
        source_read_query_cost=attrs.source_read_query_cost,
        source_read_recent_user_list=attrs.source_read_recent_user_list,
        source_read_recent_user_record_list=attrs.source_read_recent_user_record_list,
        source_read_top_user_list=attrs.source_read_top_user_list,
        source_read_top_user_record_list=attrs.source_read_top_user_record_list,
        source_read_popular_query_record_list=attrs.source_read_popular_query_record_list,
        source_read_expensive_query_record_list=attrs.source_read_expensive_query_record_list,
        source_read_slow_query_record_list=attrs.source_read_slow_query_record_list,
        source_query_compute_cost_list=attrs.source_query_compute_cost_list,
        source_query_compute_cost_record_list=attrs.source_query_compute_cost_record_list,
        dbt_qualified_name=attrs.dbt_qualified_name,
        asset_dbt_workflow_last_updated=attrs.asset_dbt_workflow_last_updated,
        asset_dbt_alias=attrs.asset_dbt_alias,
        asset_dbt_meta=attrs.asset_dbt_meta,
        asset_dbt_unique_id=attrs.asset_dbt_unique_id,
        asset_dbt_account_name=attrs.asset_dbt_account_name,
        asset_dbt_project_name=attrs.asset_dbt_project_name,
        asset_dbt_package_name=attrs.asset_dbt_package_name,
        asset_dbt_job_name=attrs.asset_dbt_job_name,
        asset_dbt_job_schedule=attrs.asset_dbt_job_schedule,
        asset_dbt_job_status=attrs.asset_dbt_job_status,
        asset_dbt_test_status=attrs.asset_dbt_test_status,
        asset_dbt_job_schedule_cron_humanized=attrs.asset_dbt_job_schedule_cron_humanized,
        asset_dbt_job_last_run=attrs.asset_dbt_job_last_run,
        asset_dbt_job_last_run_url=attrs.asset_dbt_job_last_run_url,
        asset_dbt_job_last_run_created_at=attrs.asset_dbt_job_last_run_created_at,
        asset_dbt_job_last_run_updated_at=attrs.asset_dbt_job_last_run_updated_at,
        asset_dbt_job_last_run_dequed_at=attrs.asset_dbt_job_last_run_dequed_at,
        asset_dbt_job_last_run_started_at=attrs.asset_dbt_job_last_run_started_at,
        asset_dbt_job_last_run_total_duration=attrs.asset_dbt_job_last_run_total_duration,
        asset_dbt_job_last_run_total_duration_humanized=attrs.asset_dbt_job_last_run_total_duration_humanized,
        asset_dbt_job_last_run_queued_duration=attrs.asset_dbt_job_last_run_queued_duration,
        asset_dbt_job_last_run_queued_duration_humanized=attrs.asset_dbt_job_last_run_queued_duration_humanized,
        asset_dbt_job_last_run_run_duration=attrs.asset_dbt_job_last_run_run_duration,
        asset_dbt_job_last_run_run_duration_humanized=attrs.asset_dbt_job_last_run_run_duration_humanized,
        asset_dbt_job_last_run_git_branch=attrs.asset_dbt_job_last_run_git_branch,
        asset_dbt_job_last_run_git_sha=attrs.asset_dbt_job_last_run_git_sha,
        asset_dbt_job_last_run_status_message=attrs.asset_dbt_job_last_run_status_message,
        asset_dbt_job_last_run_owner_thread_id=attrs.asset_dbt_job_last_run_owner_thread_id,
        asset_dbt_job_last_run_executed_by_thread_id=attrs.asset_dbt_job_last_run_executed_by_thread_id,
        asset_dbt_job_last_run_artifacts_saved=attrs.asset_dbt_job_last_run_artifacts_saved,
        asset_dbt_job_last_run_artifact_s3_path=attrs.asset_dbt_job_last_run_artifact_s3_path,
        asset_dbt_job_last_run_has_docs_generated=attrs.asset_dbt_job_last_run_has_docs_generated,
        asset_dbt_job_last_run_has_sources_generated=attrs.asset_dbt_job_last_run_has_sources_generated,
        asset_dbt_job_last_run_notifications_sent=attrs.asset_dbt_job_last_run_notifications_sent,
        asset_dbt_job_next_run=attrs.asset_dbt_job_next_run,
        asset_dbt_job_next_run_humanized=attrs.asset_dbt_job_next_run_humanized,
        asset_dbt_environment_name=attrs.asset_dbt_environment_name,
        asset_dbt_environment_dbt_version=attrs.asset_dbt_environment_dbt_version,
        asset_dbt_tags=attrs.asset_dbt_tags,
        asset_dbt_semantic_layer_proxy_url=attrs.asset_dbt_semantic_layer_proxy_url,
        asset_dbt_source_freshness_criteria=attrs.asset_dbt_source_freshness_criteria,
        sample_data_url=attrs.sample_data_url,
        asset_tags=attrs.asset_tags,
        asset_mc_incident_names=attrs.asset_mc_incident_names,
        asset_mc_incident_qualified_names=attrs.asset_mc_incident_qualified_names,
        asset_mc_alert_qualified_names=attrs.asset_mc_alert_qualified_names,
        asset_mc_monitor_names=attrs.asset_mc_monitor_names,
        asset_mc_monitor_qualified_names=attrs.asset_mc_monitor_qualified_names,
        asset_mc_monitor_statuses=attrs.asset_mc_monitor_statuses,
        asset_mc_monitor_types=attrs.asset_mc_monitor_types,
        asset_mc_monitor_schedule_types=attrs.asset_mc_monitor_schedule_types,
        asset_mc_incident_types=attrs.asset_mc_incident_types,
        asset_mc_incident_sub_types=attrs.asset_mc_incident_sub_types,
        asset_mc_incident_severities=attrs.asset_mc_incident_severities,
        asset_mc_incident_priorities=attrs.asset_mc_incident_priorities,
        asset_mc_incident_states=attrs.asset_mc_incident_states,
        asset_mc_is_monitored=attrs.asset_mc_is_monitored,
        asset_mc_last_sync_run_at=attrs.asset_mc_last_sync_run_at,
        starred_by=attrs.starred_by,
        starred_details_list=attrs.starred_details_list,
        starred_count=attrs.starred_count,
        asset_anomalo_dq_status=attrs.asset_anomalo_dq_status,
        asset_anomalo_check_count=attrs.asset_anomalo_check_count,
        asset_anomalo_failed_check_count=attrs.asset_anomalo_failed_check_count,
        asset_anomalo_check_statuses=attrs.asset_anomalo_check_statuses,
        asset_anomalo_last_check_run_at=attrs.asset_anomalo_last_check_run_at,
        asset_anomalo_applied_check_types=attrs.asset_anomalo_applied_check_types,
        asset_anomalo_failed_check_types=attrs.asset_anomalo_failed_check_types,
        asset_anomalo_source_url=attrs.asset_anomalo_source_url,
        asset_soda_dq_status=attrs.asset_soda_dq_status,
        asset_soda_check_count=attrs.asset_soda_check_count,
        asset_soda_last_sync_run_at=attrs.asset_soda_last_sync_run_at,
        asset_soda_last_scan_at=attrs.asset_soda_last_scan_at,
        asset_soda_check_statuses=attrs.asset_soda_check_statuses,
        asset_soda_source_url=attrs.asset_soda_source_url,
        asset_icon=attrs.asset_icon,
        asset_external_dq_metadata_details=attrs.asset_external_dq_metadata_details,
        is_partial=attrs.is_partial,
        is_ai_generated=attrs.is_ai_generated,
        asset_cover_image=attrs.asset_cover_image,
        asset_theme_hex=attrs.asset_theme_hex,
        lexicographical_sort_order=attrs.lexicographical_sort_order,
        has_contract=attrs.has_contract,
        asset_redirect_gui_ds=attrs.asset_redirect_gui_ds,
        asset_policy_gui_ds=attrs.asset_policy_gui_ds,
        asset_policies_count=attrs.asset_policies_count,
        domain_gui_ds=attrs.domain_gui_ds,
        non_compliant_asset_policy_gui_ds=attrs.non_compliant_asset_policy_gui_ds,
        product_gui_ds=attrs.product_gui_ds,
        output_product_gui_ds=attrs.output_product_gui_ds,
        application_qualified_name=attrs.application_qualified_name,
        application_field_qualified_name=attrs.application_field_qualified_name,
        asset_user_defined_type=attrs.asset_user_defined_type,
        asset_internal_popularity_score=attrs.asset_internal_popularity_score,
        asset_dq_schedule_type=attrs.asset_dq_schedule_type,
        asset_dq_schedule_crontab=attrs.asset_dq_schedule_crontab,
        asset_dq_schedule_time_zone=attrs.asset_dq_schedule_time_zone,
        asset_dq_schedule_source_sync_status=attrs.asset_dq_schedule_source_sync_status,
        asset_dq_schedule_source_synced_at=attrs.asset_dq_schedule_source_synced_at,
        asset_dq_schedule_source_sync_error_message=attrs.asset_dq_schedule_source_sync_error_message,
        asset_dq_schedule_source_sync_error_code=attrs.asset_dq_schedule_source_sync_error_code,
        asset_dq_schedule_source_sync_raw_error=attrs.asset_dq_schedule_source_sync_raw_error,
        asset_dq_rule_attached_dimensions=attrs.asset_dq_rule_attached_dimensions,
        asset_dq_rule_failed_dimensions=attrs.asset_dq_rule_failed_dimensions,
        asset_dq_rule_passed_dimensions=attrs.asset_dq_rule_passed_dimensions,
        asset_dq_rule_attached_rule_types=attrs.asset_dq_rule_attached_rule_types,
        asset_dq_rule_failed_rule_types=attrs.asset_dq_rule_failed_rule_types,
        asset_dq_rule_passed_rule_types=attrs.asset_dq_rule_passed_rule_types,
        asset_dq_rule_result_tags=attrs.asset_dq_rule_result_tags,
        asset_dq_rule_last_run_at=attrs.asset_dq_rule_last_run_at,
        asset_dq_rule_total_count=attrs.asset_dq_rule_total_count,
        asset_dq_rule_failed_count=attrs.asset_dq_rule_failed_count,
        asset_dq_rule_passed_count=attrs.asset_dq_rule_passed_count,
        asset_dq_result=attrs.asset_dq_result,
        asset_dq_freshness_value=attrs.asset_dq_freshness_value,
        asset_dq_freshness_expectation=attrs.asset_dq_freshness_expectation,
        asset_dq_row_scope_filter_column_qualified_name=attrs.asset_dq_row_scope_filter_column_qualified_name,
        asset_space_qualified_name=attrs.asset_space_qualified_name,
        asset_space_name=attrs.asset_space_name,
        asset_smus_metadata_form_names=attrs.asset_smus_metadata_form_names,
        asset_smus_metadata_form_key_value_details=attrs.asset_smus_metadata_form_key_value_details,
        asset_smus_metadata_form_details=attrs.asset_smus_metadata_form_details,
        # Merged relationship attributes
        **merged_rels,
    )


def _asset_to_nested_bytes(asset: Asset, serde: Serde) -> bytes:
    """Convert flat Asset to nested JSON bytes."""
    return serde.encode(_asset_to_nested(asset))


def _asset_from_nested_bytes(data: bytes, serde: Serde) -> Asset:
    """Convert nested JSON bytes to flat Asset."""
    nested = serde.decode(data, AssetNested)
    return _asset_from_nested(nested)
